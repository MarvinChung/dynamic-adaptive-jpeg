#include "TwoDArray.hpp"
#include <map>

class QuantizationTable
{
public:
    int luminance_quantization_table[8][8] ={
      {16,  11,  10,  16,  24,  40,  51,  61},
      {12,  12,  14,  19,  26,  58,  60,  55},
      {14,  13,  16,  24,  40,  57,  69,  56},
      {14,  17,  22,  29,  51,  87,  80,  62},
      {18,  22,  37,  56,  68, 109, 103,  77},
      {24,  35,  55,  64,  81, 104, 113,  92},
      {49,  64,  78,  87, 103, 121, 120, 101},
      {72,  92,  95,  98, 112, 100, 103,  99}
        };
    int chrominance_quantization_table[8][8] ={
      {17,  18,  24,  47,  99,  99,  99,  99},
      {18,  21,  26,  66,  99,  99,  99,  99},
      {24,  26,  56,  99,  99,  99,  99,  99},
      {47,  66,  99,  99,  99,  99,  99,  99},
      {99,  99,  99,  99,  99,  99,  99,  99},
      {99,  99,  99,  99,  99,  99,  99,  99},
      {99,  99,  99,  99,  99,  99,  99,  99},
      {99,  99,  99,  99,  99,  99,  99,  99},
    };

    std::vector<TwoDArray<unsigned int>> DQT[4];

    void UpSampling(TwoDArray<unsigned int> &arr, TwoDArray<unsigned int> &arr2, int size) {
        for (int i = 0; i < size; i++) {
            for (int j = 0; j < size; j++) {
                int a = arr(i/2, j/2); 
                int b = arr((i-1)/2, j/2);
                int c = arr(i/2, (j-1)/2);
                int d = arr((i-1)/2, (j-1)/2);
                arr2(i, j) = 4*(a + b + c + d);
            }
        }
    }

    QuantizationTable() : QuantizationTable(80) {}

    QuantizationTable(int quality) // 1~100
    {
        TwoDArray<unsigned int> c(8, 8);
        TwoDArray<unsigned int> l(8, 8);

	unsigned int qualityScale;
	if (quality < 50)
	    qualityScale = 5000 / qualityScale;
	else
	    qualityScale = 200 - quality * 2;
        for (int i = 0; i < 8; i++)
            for (int j = 0; j < 8; j++) {
                c(i, j) = (chrominance_quantization_table[i][j] * qualityScale + 50) / 100;
                l(i, j) = (luminance_quantization_table[i][j] * qualityScale + 50) / 100;
		if (c(i, j) == 0)
		    c(i, j) = 1;
	        if (c(i, j) > 255)
		    c(i, j) = 255;
		if (l(i, j) == 0)
		    l(i, j) = 1;
	        if (l(i, j) > 255)
		    l(i, j) = 255;
            }

        DQT[0].push_back(std::move(l));
        DQT[0].push_back(std::move(c));
        
        // create larger quantization table
        for (int s = 16, j = 0; s <= 64; s*=2, j++) {
            TwoDArray<unsigned int> l_temp(s,s);
            TwoDArray<unsigned int> c_temp(s,s);
            UpSampling(DQT[j][0], l_temp, s);
            UpSampling(DQT[j][1], c_temp, s);
            DQT[j+1].push_back(std::move(l_temp));
            DQT[j+1].push_back(std::move(c_temp));     
        }
    }
};

std::map<unsigned char, std::vector<bool>> ACLuminanceToCode = {
{0x01, {0,0}},
{0x02, {0,1}},
{0x03, {1,0,0}},
{0x11, {1,0,1,0}},
{0x04, {1,0,1,1}},
{0x00, {1,1,0,0}},
{0x05, {1,1,0,1,0}},
{0x21, {1,1,0,1,1}},
{0x12, {1,1,1,0,0}},
{0x31, {1,1,1,0,1,0}},
{0x41, {1,1,1,0,1,1}},
{0x51, {1,1,1,1,0,0,0}},
{0x06, {1,1,1,1,0,0,1}},
{0x13, {1,1,1,1,0,1,0}},
{0x61, {1,1,1,1,0,1,1}},
{0x22, {1,1,1,1,1,0,0,0}},
{0x71, {1,1,1,1,1,0,0,1}},
{0x81, {1,1,1,1,1,0,1,0,0}},
{0x14, {1,1,1,1,1,0,1,0,1}},
{0x32, {1,1,1,1,1,0,1,1,0}},
{0x91, {1,1,1,1,1,0,1,1,1}},
{0xA1, {1,1,1,1,1,1,0,0,0}},
{0x07, {1,1,1,1,1,1,0,0,1}},
{0x15, {1,1,1,1,1,1,0,1,0,0}},
{0xB1, {1,1,1,1,1,1,0,1,0,1}},
{0x42, {1,1,1,1,1,1,0,1,1,0}},
{0x23, {1,1,1,1,1,1,0,1,1,1}},
{0xC1, {1,1,1,1,1,1,1,0,0,0}},
{0x52, {1,1,1,1,1,1,1,0,0,1}},
{0xD1, {1,1,1,1,1,1,1,0,1,0}},
{0xE1, {1,1,1,1,1,1,1,0,1,1,0}},
{0x33, {1,1,1,1,1,1,1,0,1,1,1}},
{0x16, {1,1,1,1,1,1,1,1,0,0,0}},
{0x62, {1,1,1,1,1,1,1,1,0,0,1,0}},
{0xF0, {1,1,1,1,1,1,1,1,0,0,1,1}},
{0x24, {1,1,1,1,1,1,1,1,0,1,0,0}},
{0x72, {1,1,1,1,1,1,1,1,0,1,0,1}},
{0x82, {1,1,1,1,1,1,1,1,0,1,1,0,0}},
{0xF1, {1,1,1,1,1,1,1,1,0,1,1,0,1}},
{0x25, {1,1,1,1,1,1,1,1,0,1,1,1,0,0}},
{0x43, {1,1,1,1,1,1,1,1,0,1,1,1,0,1}},
{0x34, {1,1,1,1,1,1,1,1,0,1,1,1,1,0}},
{0x53, {1,1,1,1,1,1,1,1,0,1,1,1,1,1}},
{0x92, {1,1,1,1,1,1,1,1,1,0,0,0,0,0}},
{0xA2, {1,1,1,1,1,1,1,1,1,0,0,0,0,1}},
{0xB2, {1,1,1,1,1,1,1,1,1,0,0,0,1,0,0}},
{0x63, {1,1,1,1,1,1,1,1,1,0,0,0,1,0,1}},
{0x73, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0}},
{0xC2, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,1}},
{0x35, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0}},
{0x44, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1}},
{0x27, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0}},
{0x93, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,1}},
{0xA3, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,0}},
{0xB3, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1}},
{0x36, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0}},
{0x17, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,0,1}},
{0x54, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,0}},
{0x64, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,1}},
{0x74, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0}},
{0xC3, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1}},
{0xD2, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,0}},
{0xE2, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1}},
{0x08, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0}},
{0x26, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,1}},
{0x83, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0}},
{0x09, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1}},
{0x0A, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0}},
{0x18, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1}},
{0x19, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0}},
{0x84, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1}},
{0x94, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,0}},
{0x45, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,1}},
{0x46, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,0}},
{0xA4, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1}},
{0xB4, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0}},
{0x56, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,1}},
{0xD3, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0}},
{0x55, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,1}},
{0x28, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0}},
{0x1A, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,1}},
{0xF2, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0}},
{0xE3, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1}},
{0xF3, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0}},
{0xC4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,1}},
{0xD4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,0}},
{0xE4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1}},
{0xF4, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0}},
{0x65, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,1}},
{0x75, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0}},
{0x85, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1}},
{0x95, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,0}},
{0xA5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,1}},
{0xB5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0}},
{0xC5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1}},
{0xD5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0}},
{0xE5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1}},
{0xF5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0}},
{0x66, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1}},
{0x76, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0}},
{0x86, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1}},
{0x96, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0}},
{0xA6, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1}},
{0xB6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0}},
{0xC6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,1}},
{0xD6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0}},
{0xE6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1}},
{0xF6, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0}},
{0x37, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,1}},
{0x47, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,0}},
{0x57, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1}},
{0x67, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0}},
{0x77, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1}},
{0x87, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0}},
{0x97, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1}},
{0xA7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0}},
{0xB7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1}},
{0xC7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,0}},
{0xD7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,1}},
{0xE7, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0}},
{0xF7, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1}},
{0x38, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0}},
{0x48, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1}},
{0x58, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0}},
{0x68, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1}},
{0x78, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,0}},
{0x88, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1}},
{0x98, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0}},
{0xA8, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1}},
{0xB8, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0}},
{0xC8, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1}},
{0xD8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}},
{0xE8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1}},
{0xF8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0}},
{0x29, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1}},
{0x39, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0}},
{0x49, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1}},
{0x59, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0}},
{0x69, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1}},
{0x79, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0}},
{0x89, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,1}},
{0x99, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0}},
{0xA9, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1}},
{0xB9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0}},
{0xC9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1}},
{0xD9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0}},
{0xE9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1}},
{0xF9, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0}},
{0x2A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1}},
{0x3A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0}},
{0x4A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1}},
{0x5A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0}},
{0x6A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1}},
{0x7A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0}},
{0x8A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1}},
{0x9A, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0}},
{0xAA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1}},
{0xBA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0}},
{0xCA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1}},
{0xDA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0}},
{0xEA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1}},
{0xFA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0}}
};
std::map<unsigned char, std::vector<bool>> ACChrominanceToCode = {
{0x01, {0,0}},
{0x00, {0,1}},
{0x02, {1,0,0}},
{0x11, {1,0,1}},
{0x03, {1,1,0,0}},
{0x04, {1,1,0,1,0}},
{0x21, {1,1,0,1,1}},
{0x12, {1,1,1,0,0,0}},
{0x31, {1,1,1,0,0,1}},
{0x41, {1,1,1,0,1,0}},
{0x05, {1,1,1,0,1,1,0}},
{0x51, {1,1,1,0,1,1,1}},
{0x13, {1,1,1,1,0,0,0}},
{0x61, {1,1,1,1,0,0,1}},
{0x22, {1,1,1,1,0,1,0}},
{0x06, {1,1,1,1,0,1,1,0}},
{0x71, {1,1,1,1,0,1,1,1}},
{0x81, {1,1,1,1,1,0,0,0}},
{0x91, {1,1,1,1,1,0,0,1}},
{0x32, {1,1,1,1,1,0,1,0}},
{0xA1, {1,1,1,1,1,0,1,1,0}},
{0xB1, {1,1,1,1,1,0,1,1,1}},
{0xF0, {1,1,1,1,1,1,0,0,0}},
{0x14, {1,1,1,1,1,1,0,0,1}},
{0xC1, {1,1,1,1,1,1,0,1,0,0}},
{0xD1, {1,1,1,1,1,1,0,1,0,1}},
{0xE1, {1,1,1,1,1,1,0,1,1,0}},
{0x23, {1,1,1,1,1,1,0,1,1,1}},
{0x42, {1,1,1,1,1,1,1,0,0,0}},
{0x15, {1,1,1,1,1,1,1,0,0,1,0}},
{0x52, {1,1,1,1,1,1,1,0,0,1,1}},
{0x62, {1,1,1,1,1,1,1,0,1,0,0}},
{0x72, {1,1,1,1,1,1,1,0,1,0,1}},
{0xF1, {1,1,1,1,1,1,1,0,1,1,0}},
{0x33, {1,1,1,1,1,1,1,0,1,1,1}},
{0x24, {1,1,1,1,1,1,1,1,0,0,0,0}},
{0x34, {1,1,1,1,1,1,1,1,0,0,0,1}},
{0x43, {1,1,1,1,1,1,1,1,0,0,1,0}},
{0x82, {1,1,1,1,1,1,1,1,0,0,1,1}},
{0x16, {1,1,1,1,1,1,1,1,0,1,0,0,0}},
{0x92, {1,1,1,1,1,1,1,1,0,1,0,0,1}},
{0x53, {1,1,1,1,1,1,1,1,0,1,0,1,0}},
{0x25, {1,1,1,1,1,1,1,1,0,1,0,1,1}},
{0xA2, {1,1,1,1,1,1,1,1,0,1,1,0,0}},
{0x63, {1,1,1,1,1,1,1,1,0,1,1,0,1}},
{0xB2, {1,1,1,1,1,1,1,1,0,1,1,1,0}},
{0xC2, {1,1,1,1,1,1,1,1,0,1,1,1,1}},
{0x07, {1,1,1,1,1,1,1,1,1,0,0,0,0,0}},
{0x73, {1,1,1,1,1,1,1,1,1,0,0,0,0,1}},
{0xD2, {1,1,1,1,1,1,1,1,1,0,0,0,1,0}},
{0x35, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,0}},
{0xE2, {1,1,1,1,1,1,1,1,1,0,0,0,1,1,1}},
{0x44, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,0}},
{0x83, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,0}},
{0x17, {1,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1}},
{0x54, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0}},
{0x93, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,0,1}},
{0x08, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,0}},
{0x09, {1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,1}},
{0x0A, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0}},
{0x18, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1}},
{0x19, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,0}},
{0x26, {1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1}},
{0x36, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0}},
{0x45, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,1}},
{0x1A, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0}},
{0x27, {1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1}},
{0x64, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0}},
{0x74, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1}},
{0x55, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0}},
{0x37, {1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,1}},
{0xF2, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,0}},
{0xA3, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,0,1}},
{0xB3, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,0}},
{0xC3, {1,1,1,1,1,1,1,1,1,0,1,0,0,1,1,1}},
{0x28, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0}},
{0x29, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,1}},
{0xD3, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,0}},
{0xE3, {1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,1}},
{0xF3, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0}},
{0x84, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,1}},
{0x94, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,0}},
{0xA4, {1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1}},
{0xB4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0}},
{0xC4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,1}},
{0xD4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,0}},
{0xE4, {1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1}},
{0xF4, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0}},
{0x65, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,1}},
{0x75, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,0}},
{0x85, {1,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1}},
{0x95, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,0}},
{0xA5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,1}},
{0xB5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0}},
{0xC5, {1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1}},
{0xD5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,0}},
{0xE5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,0,1}},
{0xF5, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0}},
{0x46, {1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1}},
{0x56, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0}},
{0x66, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1}},
{0x76, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0}},
{0x86, {1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1}},
{0x96, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0}},
{0xA6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,1}},
{0xB6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0}},
{0xC6, {1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1}},
{0xD6, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0}},
{0xE6, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,1}},
{0xF6, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,0}},
{0x47, {1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1}},
{0x57, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0}},
{0x67, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1}},
{0x77, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0}},
{0x87, {1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1}},
{0x97, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0}},
{0xA7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1}},
{0xB7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,0}},
{0xC7, {1,1,1,1,1,1,1,1,1,1,0,1,0,0,1,1}},
{0xD7, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0}},
{0xE7, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1}},
{0xF7, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0}},
{0x38, {1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1}},
{0x48, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0}},
{0x58, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1}},
{0x68, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,0}},
{0x78, {1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,1}},
{0x88, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0}},
{0x98, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1}},
{0xA8, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,0}},
{0xB8, {1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1}},
{0xC8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0}},
{0xD8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1}},
{0xE8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0}},
{0xF8, {1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1}},
{0x39, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0}},
{0x49, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1}},
{0x59, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0}},
{0x69, {1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1}},
{0x79, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0}},
{0x89, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,1}},
{0x99, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0}},
{0xA9, {1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1}},
{0xB9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0}},
{0xC9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1}},
{0xD9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0}},
{0xE9, {1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1}},
{0xF9, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0}},
{0x2A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1}},
{0x3A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0}},
{0x4A, {1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1}},
{0x5A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0}},
{0x6A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1}},
{0x7A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0}},
{0x8A, {1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1}},
{0x9A, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0}},
{0xAA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1}},
{0xBA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0}},
{0xCA, {1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1}},
{0xDA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0}},
{0xEA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1}},
{0xFA, {1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0}},
};

std::vector<bool> DCLuminanceToCode[12] = {
    {1,1,0},          
    {1,0,1},          
    {0,1,1},          
    {0,1,0},          
    {0,0,0},          
    {0,0,1},          
    {1,0,0},         
    {1,1,1,0},      
    {1,1,1,1,0},    
    {1,1,1,1,1,0},  
    {1,1,1,1,1,1,0},
    {1,1,1,1,1,1,1,0} 
};

std::vector<bool> DCChrominanceToCode[12] = {
    {0,1},                 
    {0,0},                 
    {1,0,0},               
    {1,0,1},               
    {1,1,0,0},             
    {1,1,0,1},             
    {1,1,1,0},             
    {1,1,1,1,0},           
    {1,1,1,1,1,0},     
    {1,1,1,1,1,1,0},   
    {1,1,1,1,1,1,1,0}, 
    {1,1,1,1,1,1,1,1,0}
};
